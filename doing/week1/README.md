# week1

本周学习任务：  
- Java 语言介绍，JDK 的介绍，Java 开发环境配置
- 基本语法，包括关键字、标识符、常量、进制转换、数据类型、运算符、流程控制语句
- 一维数组，二维数组，多维数组
- 方法，方法重载，多态的引入
- 面向对象，类的初始化及变量作用域，类的访问控制权限，面向对象三大特性（封装、继承、多态）

## 目录

- [Java语言概述](#Java语言概述)  
  - [JAVA语言的诞生](#JAVA语言的诞生)
  - [JAVA语言的平台版本](#JAVA语言的平台版本)
  - [JAVA语言的特点](#JAVA语言的特点)
  - [JDK与JRE](#JDK与JRE)
  - [JDK的下载和安装](#JDK的下载和安装)
  - [JAVA程序运行原理](#JAVA程序运行原理)
  - [PATH和CLASSPATH环境变量](#PATH和CLASSPATH环境变量)

- [HelloWorld](#HelloWorld)  
  - [命令行](#命令行)  
  - [IDEA](#IDEA)

- [Java语言基础](#Java语言基础)  
  - [关键字](#关键字)
  - [标识符](#标识符)
  - [注释](#注释)
  - [常量](#常量)
  - [原码反码补码](#原码反码补码)
  - [变量](#变量)
  - [运算符](#运算符)
  - [三目运算符](#三目运算符)
  - [键盘录入数据](#键盘录入数据)

- [Java流程控制](#Java流程控制)  
  - [顺序结构](#顺序结构)  
  - [选择结构](#选择结构)  
  - [循环结构](#循环结构)
  - [跳转控制语句](#跳转控制语句)

- [方法和数组](#方法和数组)  
  - [方法](#方法)  
  - [数组](#数组)
  - [Java中的内存](#Java中的内存)

- [其它](#其它)  
  - [IDEA快捷键](#IDEA快捷键)

## Java语言概述

### JAVA语言的诞生

Java 是由 Sun 公司于 1995 年 5 月推出的 Java 面向对象程序设计语言和 Java 平台的总称。由 James Gosling 和同事们共同研发，并在 1995 年正式推出。  

### JAVA语言的发展

- JDK 1.0 (1996.1)
- JDK 1.1 (1997.2)
- J2SE 1.2 (1998.12) 
- J2SE 1.3 (2001.9)
- J2SE 1.4 (2002.2) 
- J2SE 5.0 (2004.9) 
- Java SE 6 (2006.12) 
- Java SE 7 (2011.7) 
- Java SE 8 (2014.3) 
- Java SE 9 (2017.9)
- Java SE 10 (2018.3)
- Java SE 11 (2018.9)
- Java SE 12 (2019.3)
- Java SE 13 (2019.9)
- Java SE 14 (2020.3)

### JAVA语言的平台版本

- Java SE 标准版。  
  是为开发普通桌面和商务应用程序提供的解决方案  

- Java ME 嵌入式开发  
  是为开发电子消费产品和嵌入式设备提供的解决方案  

- Java EE 企业级开发  
  是为开发企业环境下的应用程序提供的一套解决方案  

注：Java SE 为整个技术架构的核心。  

### JAVA语言的特点

- **跨平台**  
  Java 程序是在 Java 虚拟机上运行，而非直接运行于操作系统。因此通过 Java 语言编写的应用程序在不同的系统平台上都可以运行。  
  ![跨平台](./img/p1.png)  

- 面向对象  

- 解释型  
  编译型语言写出的代码，首先通过编译器的编译，全部转化成目标代码，然后依次在操作系统中执行。解释型语言则是转化一句，执行一句。  
  Java 编译过程：.java -> .class -> Java 虚拟机。  

- 健壮  
  提供了异常机制。  

- 动态  
  两个方面  
  1. 在 Java 语言中，可以简单、直观地查询运行时的信息。  
  2. 可以将新代码加入到一个正在运行的程序中。  

- 分布式  
  Java 语言具有强大的、易于使用的联网能力。

- 高效  
  由于 Java 是一种解释型语言，所以它的执行效率相对就会慢一些，但由于 Java 语言采用以下两种手段，使其拥有较好的性能。  
  1. Java 语言源程序编写完成后，先使用 Java 伪编译器进行伪编译，将其转换为中间码，再解释。  
  2. Java 语言提供一种「准实时」（Just-in-Time，JIT）编译器，当需要更快速度时，Java 语言可以使用 JIT 编译器将字节码转换成机器码，然后将其缓冲下来，这样速度就会更快。

- 多线程

- 结构中立（字节码）  
  Java 编译器通过伪编译后，将生成一个与任何计算机体系统无关的「中性」的字节码。  

- **开源**

### JDK与JRE

- JRE(JAVA  Runtime Environment)  
  包括 Java 虚拟机、运行时核心类库（rt.jar）。JRE 主要是给已经写好的 Java 程序使用，换句话说 Java 程序要能在操作系统中运行，必须有 JRE。

- JDK(JAVA  Develop kit)  
  首先，JDK 包含 JRE，除此之外，JDK 中还包含一些供开发者使用的工具，比如 Javac、Javap 等。

### JDK的下载和安装

JDK8 下载地址：https://www.oracle.com/java/technologies/javase-jdk8-downloads.html 。  
建议 JDK 安装路径中不要有中文，同时当提示安装 JRE 时，可以选择不安装。

### JAVA程序运行原理

![JAVA程序运行原理](./img/p2.png)  

### PATH和CLASSPATH环境变量

PATH 环境变量是操作系统的环境属性，告诉操作系统可执行程序（javac）路径。  
官方推荐的配置 PATH 环境变量方式：  
1. JAVA_HOME 环境变量：xx\xx\xx\jdk1.8  
2. 配置 PATH 环境变量：$JAVA_HOME$\bin

CLASSPATH 环境变量是所有 *.class 文件的执行路径，给 JVM 用，告诉 JVM 到哪里加载 *.class 文件。  

## HelloWorld

### 命令行

创建 HelloWorld.java 文件，用文本编辑器打开编辑：  
```java
public class HelloWorld {
	public static void main(String[] args) {
		System.out.println("Hello World!");
	}
}  
```  
打开 cmd，进入 HelloWorld.java 文件所在的文件夹，通过 javac 命令处理 HelloWorld.java 文件后，会生成 HelloWorld.class 文件，接着用 java 命令执行 HelloWorld.class 文件即可（省略 .class 后缀）。  
![示例](./img/p3.png)  

注：如代码中包含中文，javac 命令处理时需要添加 `-enconding UTF-8` 。如：`javac -encoding UTF-8 HelloWorld.java`。

### IDEA

IDEA 官网地址：https://www.jetbrains.com/idea 。  

安装完成后，打开 IDEA，选择新建项目：  
![p4](./img/p4.png)  

选择创建 Java 项目，并选择 JDK 版本：  
![p5](./img/p5.png)  

不勾选：  
![p6](./img/p6.png)  

设置项目名称和存储位置：  
![p7](./img/p7.png)  

Java 代码一般存放在 src 目录下，在此新建一个包：  
![p8](./img/p8.png)  
![p9](./img/p9.png)  

在包文件夹下新建 Java 程序：  
![p10](./img/p10.png)  
![p11](./img/p11.png)  

写好代码后，右击侧边小三角，选择运行，即可在下方显示运行结果：  
![p12](./img/p12.png)  
![p13](./img/p13.png)  


## Java语言基础

### 关键字  

关键字也称保留字，是被 Java 语言赋予特殊含义的单词。  

关键字的特点：
- 组成关键字的字母全部小写。  

关键字的注意事项：  
- 高级的编辑器或者专门的开发工具中，关键字会有高亮效果。
- goto 和 const 作为保留字存在，目前并不使用。

### 标识符

标识符是我们给类、接口、方法、变量等起名字时使用的字符序列。  

组成规则：  
- 英文大小写字母
- 数字字符
- $ 和 _  

注意事项：  
- 不能以数字开头
- 不能是Java中的关键字（保留字）
- 区分大小写

常见命名规则：  
- 包命名  
  单级：一个全部小写的单词。  
  多级：以域名反转的方式来命名，单词全部小写，单词以 `.` 隔开。

- 类和接口命名  
  类名使用 UpperCamelCase 风格，但以下情形例外：  
  DO / BO / DTO / VO / AO / PO / UID 等。

- 变量和方法的命名  
  方法名、参数名、成员变量、局部变量都统一使用 lowerCamelCase 风格，必须遵从驼峰形式。

- 常量的命名  
  常量命名全部大写，单词间用下划线隔开，力求语义表达完整清楚，不要嫌名字长。 

注：Java 语言还有很多约定俗成的书写规范。如：  
- 代码中的命名均不能以下划线或美元符号开始，也不能以下划线或美元符号结束。  

- 代码中的命名严禁使用拼音与英文混合的方式，更不允许直接使用中文的方式。  
  说明：正确的英文拼写和语法可以让阅读者易于理解，避免歧义。注意，纯拼音命名方式更要避免采用。  

- 更多规则可以阅读 <a href = "https://github.com/alibaba/p3c">《阿里巴巴Java开发手册》</a>。  

### 注释

注释是指用于解释说明的文字，有助于阅读代码和项目维护。  

Java 语言的注释分类：  
- 单行注释。格式：  
  ```java
  // 这是单行注释
  ```  

- 多行注释。格式：  
  ```java
  /*
  一行
  两行
  可以很多行
  */
  ```  
  注：多行注释不能嵌套使用！

- 文档注释。格式：  
  ```java
  /**
  文档注释内容
  */
  ```

### 常量

常量是指在运行过程中，其值不会发生改变的量。

常量的分类：  
- 字面值常量  

- 自定义常量（面向对象部分讲）  

字面值常量分类  
- 字符串常量  
  用双引号引起来的内容，如："wangdao"。  

- 整形常量  
  所有整数。  
  
- 小数常量  
  所有小数。  

- 字符常量  
  用单引号引起来的内容，如：'a'，'我'。  

- 布尔常量  
  只有 true 和 false。  

- 空常量  
  只有 null。  

JAVA 中的整数型常量的表现形式：  
- 二进制  
  由 0 和 1 组成，以 `0b` 开头，比如 0b1100。

- 八进制  
  由 0~7 组成，以 `0` 开头，比如 014。

- 十进制  
  由 0~9 组成，默认 10 进制，比如 12。

- 十六进制  
  由 0\~9，A\~F(或 a\~f) 表示 0\~15，以 `0x` 开头。  

转换方式可以查看 <a href="https://github.com/guo-yaohua/wdxly/blob/master/before/查阅并梳理知识点.md">查阅并梳理知识点</a> -> 计算机体系结构及组成原理 -> Q3 进制转换  

注：从 Java 7 开始，可以为数字字面量加下划线，如用 1_000_000（或 0b1111_0100_0010_0100_0000）表示一百万。这些下划线只是为了让人更易读。Java 编译器会去除这些下划线。


### 原码反码补码  

一个数在计算机中的二进制表示形式， 叫做这个数的机器数。   
- 原码表示法在数值前面增加了一位符号位（即最高位为符号位），正数该位为 0，负数该位为 1，其余位表示数值的大小。

- 反码的表示方法是：正数的反码是其本身；负数的反码是在其原码的基础上，符号位不变度，其余各个位取反。  

- 补码的表示方法是：正数的补码就是其本身；负数的补码是在其原码的基础上，符号位不变，其余各位取反，最后 +1（即在反码的基础上 +1）。

### 变量

变量指在程序运行期间，其值在某个范围内可以改变的量。  
理解（通过名字访问到）变量就是「一片」内存空间。  

变量定义的格式：`数据类型 变量名 = 变量值`。  

一种数据类型，表示的就是一个数据集和基于该数据集的一组合法操作。  
![数据类型](./img/p14.png)  
不同类型在内存中的存储大小也不同：  
| 类型 | byte | bit|
| --- | --- | --- |
| byte | 8 | 1 |
| char | 16 | 2 |
| short | 16| 2 |
| int | 32 | 4 |
| float | 32 | 4 |
| long | 64 | 8 |
| double | 64 | 8 |
| boolean | ~ | ~ |  

注：
- boolean 只有两个值：true、false，可以使用 1 bit 来存储，但是具体大小没有明确规定。JVM 会在编译时期将 boolean 类型的数据转换为 int，使用 1 来表示 true，0 表示 false。JVM 支持 boolean 数组，但是是通过读写 byte 数组来实现的。  

- 在 long 或者 Long 赋值时，数值后使用大写的 L，不能是小写的 l ，小写容易跟数字 1 混淆，造成误解。  

- 在 float 赋值时，通过数值后加 f / F，声明类型是 float 类型。没有后缀 f / F 的浮点数值默认为 double 类型。  
  事实上，只有很少的情况适合使用 float 类型。   

- 关于字符的问题  
  一个字符，只能以数值的形式保存到计算机中，一个字符对应的数值，也就是字符和字符对应的数值对应关系，即 ASCII 码表。  
  **强烈建议不要在程序中使用 char 类型，除非确实需要处理 UTF-16 代码单元。最好将字符串作为抽象数据处理类型。**

一些数据类型之间可以互相转换（JVM 默认类型转化规则）：  
- boolean 类型的值不能直接转化为其它数据类型的值
- byte，short，char -> int -> long -> float -> double
- byte，short，char 相互之间不转换，他们参与运算时都会提升为 int 类型。

强制转化目标类型格式：`变量名 = (目标类型)(被转换的数据)`。  

使用变量的注意事项：  
- 作用域  
  变量有效的时间范围，这个范围通常用 `{}` 来界定。 

- 初始化值  
  变量在使用之前，由编译器强制必须赋初值。

- 建议一行定义一个变量  
  从代码的可读性角度来考虑。

### 运算符

常用运算符有 6 类：算术运算符、赋值运算符、比较运算符、逻辑运算符、位运算符、三目运算符。  

- 算数运算符   
  | 运算符 | 功能 | 注意事项 |
  | - | - | - |
  | + | 加号 / 正号 / 字符串拼接 |
  | - | 减号 / 负号 | 
  | * | 乘号 |
  | / | 除号 | 整数相除只能得到整数（舍弃小数部分） |
  | % | 取模 |
  | ++ / -- | 自增 / 自减 | （++ 或 --）若参与运算，位置不同，效果不同 |  

  **建议不要在表达式中使用 ++，因为这样的代码很容易让人困惑，而且会带来烦人的 bug。**

- 赋值运算符  
  基本赋值运算符：=  
  复合赋值运算符：+=，-=，*=，/=，%=

- 关系运算符  
  | 运算符 | 功能 |
  | - | - |
  | == | 判断是否相等于 |
  | != | 判断是否不等于 |
  | < / > | 判断是否小于 / 大于 |
  | <= / >= | 判断是否小于等于 / 大于等于 |  

  关系运算符的结果只有两种：ture 或 flase。  

- 逻辑运算符  
  | 运算符 | 功能 |
  | - | - |
  | & | 与（AND） |
  | \| | 或（OR） |
  | ^ | 异或（XOR） |
  | ! | 非（NOT） |
  | && | 与（短路） |
  | \|\| | 或（短路） |
  
  实现两个整数的互换：
  ```java
  a = a ^ b;
  b = a ^ b;
  a = a ^ b;
  ```

- 位运算符  
  | 运算符 | 功能 | 注意事项 |
  | - | - | - |
  | << | 左移 | 空位补0，被移除的高位丢弃 |
  | >> | 右移 | 被移位的二进制最高位是 0，右移后，空缺位补 0；最高位是 1，最高位补 1 |
  | >>> | 无符号右移 | 被移位二进制最高位无论是 0 或者是 1，空缺位都用 0 补 |
  | & | 与运算 | 任何二进制位和 0 进行 & 运算，结果是 0；和 1 进行 & 运算结果是原值 |
  | \| | 或运算 | 任何二进制位和 0 进行 \| 运算，结果是原值；和 1 进行 \| 运算结果是 1 |
  | ^ | 异或运算 | 任何相同二进制位进行 ^ 运算，结果是0；不相同二进制位 ^ 运算结果是 1 |
  | ~ | 按位取反 |  

  快速实现计算 2 乘以 8：  
  ```java
  n = 2 << 3;
  ```

### 三目运算符

格式：`关系表达式 ? 表达式 1 : 表达式 2`  
含义：如果关系表达式结果为为 true，运算后的结果是表达式 1；如果关系表达式结果为false，运算后的结果是表达式2。

### 键盘录入数据

实现键盘录入数据：  
```java
import java.util.Scanner; // 导包语句（放到 class 定义的上面）

Scanner sc = new Scanner(System.in);  // 创建对象
int x = sc.nextInt(); // 从键盘输入读取数据
```


## Java流程控制

一个 Java 程序，通常是由多条符合 Java 语法规则的语句组成的。一个 Java 程序的执行，一定意味着多条 Java 语句的执行。  
既然是多条 Java 语句的执行，执行的结果就一定与语句执行的顺序有关，同样的语句，不同的执行顺序，结果可能不同。

### 顺序结构

顺序结构描述的是 Java 语句之间，从上到下（或从左到右）依次执行的执行顺序。  

顺序结构是程序中最简单最基本的流程控制，没有特定的语法，就是按照代码书写的顺序执行。

### 选择结构

选择结构中的代码顺序和顺序结构中代码的执行顺序有明显的不同：  
- 选择结构有特定的语法规则，代码要执行具体的逻辑运算进行判断。  

- 逻辑运算的结果有两个，所以产生选择，按照不同的选择执行不同的代码。  

- Java 中，选择结构有 2 种实现形式，if 语句 和 switch 语句

if 语句实现选择结构有 3 种格式：  
- 如果可以, 就….(单分支)  
  ```java
  if (关系表达式) {
    语句体
  }
  ```  

- 非此即彼（两分支）
  ```java
  if (关系表达式) {
      语句体 1
    } else {
      语句体 2
    }
  ```

- 多选一（多分支）
  ```java
  if (关系表达式 1) {
    语句体 1
  } else  if (关系表达式 2) {
    语句体 2
  }
  …
  else {
    语句体 n+1
  }
  ```

注：在绝大部分场景下，三目运算符和 if 双分支选择结构，都可以相互替代。但是，如果选择结构执行的仅仅只是一个操作，**没有返回值**，此时三目运算无法替代 if 双分支选择结构。  

switch语句格式：  
```java
switch(表达式) {
  case 值 1:
    语句体 1
    break;
  case 值 2:
      语句体 2
      break;
  …
  default:	
      语句体 n+1
      break;
}
```

switch 格式解释：  
- switch 关键字：表示这是一个 switch 语句。

- switch 后的表达式：表示选择条件。

- case 语句：每个 case 语句表示一个分支。

- beak 语句：表示结束 switch 语句。

- default 语句：表示当所有其他的 case 的分支都不能匹配 switch 后表达式的值的时候，此时就会执行 default 分支。

注意事项：  
- switch 语句后，表达式结果的取值范围：byte、short、int、char、枚举、String。

- case 后面的值，不能相同，且必须是和表达式值的类型相同的常量值。

- break 在语法上可以省略，省略之后，switch 实现的就不再是多分支选择结构。

- default 语法上可以省略，但建议一般不要省略。

### 循环结构

与顺序结构和选择结构不同，循环结构的主要功能是控制 Java 语句能够重复执行。

循环结构，从语法上来讲，有3种实现形式：
- for 语句
- while 语句
- do while 语句  
  
不管哪种实现形式，都由 4 部分组成：  
- 初始化语句  
- 条件判断语句  
- 循环体语句  
- 循环控制语句

for 循环语句格式：
```java
for (初始化语句; 判断条件语句; 控制条件语句) {
  循环体语句
}
```

执行流程：  
![流程图](./img/p15.png)  

while 循环语句格式：  
```java
初始化语句；
while (条件判断语句) {
  循环体语句；
}
```

执行流程：
  和 for 循环一模一样。

do while 循环语句格式：  
```java
初始化语句
do {
  循环体语句
} while (条件判断)
```

执行流程：  
do while 循环结构与while循环结构比，略有不同。不同之处在于 do while 中的循环体语句是在条件判断之前执行。

### 跳转控制语句

通过跳转控制语句可以实现对循环结构更加细粒度的控制。
- break 中断
- continue 继续 
- return 返回

break 的使用场景：
- 在选择结构的switch语句中  
  结束switch语句

- 在循环语句中  
  - 跳出单层循环（如果有多层循环，只跳出内层）  
  - 带标签的跳出(多重循环)  
    格式：`标签名 : 循环语句`  
    标签名要符合 Java 的命名规则

- 离开使用场景的存在是没有意义的  


continue 的使用场景：
  - 在循环语句中  
    - 退出单层循环的一次迭代过程
    - 也可以使用标签

  - 离开使用场景的存在是没有意义的

return 关键字不是为了跳转出循环体。更常用的功能是结束一个方法（函数），也就是退出一个方法，跳转到上层调用的方法。


## 方法和数组

### 方法

方法定义：方法就是完成特定功能的代码块（在有些其他语言中，也被成为函数）。  

方法定义的格式：  
```java
修饰符 方法返回值类型 方法名 (参数 1 类型 参数 1 名称, 参数 2 类型 参数 2 名称, ……) {
  方法体语句
  return 返回值;
}
```

格式说明：  
- 修饰符：现在暂且认为是固定的 public static  

- 返回值类型：return 返回的数据类型

- 方法名：标识符

- 参数 ：类比数学中函数的自变量 z = f(x, y) 里的 x，y

- 方法体：实现具体功能的语句结合

- return：跳转控制关键字

- 返回值：方法执行的到的最终结果

注：
  `return 返回值;` 这句并非必须

方法重载（overload）：  
  在同一个类中，允许存在一个以上的同名方法，只要它们的「参数个数 / 参数类型不同 / 参数顺序不同」。

注意：
  方法重载与返回值类型无关，只看方法名和参数列表。即返回值不同，其它都相同不算是重载。  

### 数组

数组的概念（一组数据）：相同数据类型的数据元素的有序集合。  
- 存储多个数据元素

- 这多个数据元素的数据类型必须一致

可以存储的数据类型：  
- 基本类型数据  
- 引用类型数据

数组的定义格式：  
- 格式 1：`数据类型[] 数组名;` 

- 格式 2：`数据类型 数组名[];`  

建议使用格式 1。

数组的初始化：为数组中的数组元素分配内存空间，并为每个数组元素赋初值。  
Java 中的数组必须先初始化，然后才能使用。  

数组的初始化方式：  
- 动态初始化  
  初始化时只指定数组长度，由系统为数组分配初始值。  
  格式：`数据类型[] 数组名 = new 数据类型[数组长度];`，  
  - 例：`int[]  arr = new int[3];` 。  

- 静态初始化  
  初始化时指定每个数组元素的初始值，由系统决定数组长度。    
  格式：`数据类型[] 数组名 = new 数据类型[]{元素1,元素2,…};`
  - 例：`int[] arr = new int[]{1,2,3};`
  - 简化写法：`int[] arr = {1,2,3};`  
    注意：简化写法只在数组定义时有效！

数组操作中，常见的两个问题：  
- 数组索引越界  ArrayIndexOutOfBoundsException

- 空指针异常 NullPointerException

### Java中的内存

一个 Java 程序在 JVM 中运行的过程中，在内存中需要保存很多种内存数据，比如局部变量、数组等。  
不同类型的数据，其使用方式和生命周期都不相同。  
为了更好的管理这些不同类型的数据，JVM 把自己的内存空间划分为不同的内存区域。各个区域针对不同类型的数据采用不同的管理方式：  
- 栈  
  功能：存储局部变量  
  初值：coder 自己赋值  
  内存管理方式：和作用域有关

- 堆  
  功能：存储 new 出来的东西。比如数组。  
  初值：天然有初值  
  - 整型：0
  - 浮点型：0.0
  - 字符型：'\u000'
  - 布尔型：false
  - 引入数据类型：null  

  内存管理方式：和作用域无关

- 方法区

- 本地方法区

- 程序计数器  
  指明代码执行的位置。
